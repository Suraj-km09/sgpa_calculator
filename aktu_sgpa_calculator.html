<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AKTU Marks to SGPA/YGPA Calculator</title>
    <!-- Include jsPDF library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
    <style>
        /* Alert Marquee */
        .alert-marquee {
            width: 100%;
            overflow: hidden;
            background: repeating-linear-gradient(
                45deg,
                #fff3cd,
                #fff3cd 10px,
                #ffeeba 10px,
                #ffeeba 20px
            );
            padding: 12px 0;
            margin-bottom: 20px;
            border-left: 5px solid #ffc107;
            font-weight: bold;
            color: #856404;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .alert-marquee-content {
            display: inline-block;
            padding-left: 100%;
            white-space: nowrap;
            animation: alert-scroll 40s linear infinite;
        }
        
        .alert-marquee:hover .alert-marquee-content {
            animation-play-state: paused;
        }
        
        @keyframes alert-scroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }

        /* Main Styles */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        h1, h2, h3 {
            color: #800000;
        }
        h1 {
            text-align: center;
            margin-bottom: 10px;
            border-bottom: 2px solid #800000;
            padding-bottom: 10px;
        }
        .univ-info {
            text-align: center;
            margin-bottom: 30px;
            font-style: italic;
            color: #555;
        }
        .student-info {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 5px;
        }
        .student-info input {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            min-width: 200px;
        }
        .formula-box {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            border-left: 4px solid #800000;
            font-family: 'Courier New', monospace;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            padding: 10px;
            text-align: center;
            border: 1px solid #ddd;
        }
        th {
            background-color: #800000;
            color: white;
            font-weight: 500;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        input[type="number"], input[type="text"], select {
            padding: 6px;
            border: 1px solid #ddd;
            border-radius: 4px;
            text-align: center;
        }
        input[type="text"].subject-name {
            width: 120px;
        }
        .marks-input {
            width: 50px;
        }
        .type-selector {
            width: 90px;
        }
        button {
            background-color: #800000;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px 5px;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #a00000;
        }
        .button-pdf {
            background-color: #d9534f;
        }
        .button-pdf:hover {
            background-color: #c9302c;
        }
        .results {
            margin-top: 30px;
            padding: 20px;
            background-color: #f0f8ff;
            border-radius: 8px;
            border-left: 5px solid #800000;
        }
        .highlight {
            font-weight: bold;
            color: #800000;
            font-size: 1.1em;
        }
        .tabs {
            display: flex;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .tab {
            padding: 8px 15px;
            background: #ddd;
            cursor: pointer;
            margin-right: 5px;
            border-radius: 5px 5px 0 0;
            font-size: 14px;
        }
        .tab.active {
            background: #800000;
            color: white;
        }
        .tab-content {
            display: none;
            overflow-x: auto;
        }
        .tab-content.active {
            display: block;
        }
        .subject-type {
            font-weight: bold;
            color: #2c3e50;
        }
        .theory { background-color: #f0f7ff; }
        .lab { background-color: #fff0f0; }
        .project { background-color: #f0fff0; }
        .total-row {
            font-weight: bold;
            background-color: #e8f4fc !important;
        }
        .button-group {
            margin: 15px 0;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        .disclaimer {
            margin-top: 20px;
            padding: 15px;
            background-color: #f8d7da;
            border-left: 5px solid #dc3545;
            color: #721c24;
            font-size: 14px;
            border-radius: 4px;
        }
        
        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            .student-info {
                flex-direction: column;
                gap: 10px;
            }
            .student-info input {
                width: 100%;
                min-width: unset;
            }
            th, td {
                padding: 6px;
                font-size: 12px;
            }
            input[type="number"], input[type="text"], select {
                padding: 4px;
                font-size: 12px;
                width: 90%;
            }
            input[type="text"].subject-name {
                width: 80px;
            }
            .marks-input {
                width: 40px;
            }
            .type-selector {
                width: 70px;
                font-size: 12px;
            }
            button {
                padding: 8px 15px;
                font-size: 14px;
                margin: 5px;
            }
            .tabs {
                flex-wrap: nowrap;
                overflow-x: auto;
                padding-bottom: 5px;
            }
            .tab {
                font-size: 12px;
                padding: 6px 10px;
                white-space: nowrap;
            }
        }
    </style>
</head>
<body>
    <!-- Alert Marquee -->
    <div class="alert-marquee">
        <div class="alert-marquee-content">
            ‚ö†Ô∏è IMPORTANT: This calculator is for reference only. Please verify all results with official university guidelines. ‚ö†Ô∏è
        </div>
    </div>

    <div class="container">
        <h1>AKTU Marks to SGPA/YGPA Calculator</h1>
        <div class="univ-info">
            Dr. A.P.J. Abdul Kalam Technical University, Lucknow
        </div>
         
        <!-- Student Information Fields -->
        
        <div class="student-info">
            <input type="text" id="studentName" placeholder="Student Name">
            <input type="text" id="rollNumber" placeholder="Roll Number">
            <input type="text" id="branch" placeholder="Branch">
            <input type="text" id="semester" placeholder="Semester">
        </div>

        <div class="tabs">
            <div class="tab active" onclick="openTab('odd')">Odd Semester</div>
            <div class="tab" onclick="openTab('even')">Even Semester</div>
            <div class="tab" onclick="openTab('ygpa')">YGPA Calculator</div>
        </div>

        <!-- Odd Semester Tab -->
        <div id="odd" class="tab-content active">
            <h2>Odd Semester Calculation</h2>
            <div class="formula-box">
                SGPA = Œ£(Credit √ó Grade Point) / Total Credits
            </div>
            
            <form id="oddForm">
                <table>
                    <thead>
                        <tr>
                            <th>Subject Name</th>
                            <th>Type</th>
                            <th>Credits</th>
                            <th>Internal (30)</th>
                            <th>External (70)</th>
                            <th>Total (100)</th>
                            <th>Grade</th>
                            <th>Grade Point</th>
                            <th>Credit Points</th>
                        </tr>
                    </thead>
                    <tbody id="oddCourses">
                        <!-- Subjects will be added dynamically -->
                    </tbody>
                    <tfoot>
                        <tr class="total-row">
                            <th colspan="2">Total</th>
                            <th id="odd_total_credits">0</th>
                            <th id="odd_total_internal">0</th>
                            <th id="odd_total_external">0</th>
                            <th id="odd_total_marks">0</th>
                            <th>-</th>
                            <th>-</th>
                            <th id="odd_total_cp">0</th>
                        </tr>
                        <tr>
                            <th colspan="8">SGPA</th>
                            <th id="odd_sgpa">0.00</th>
                        </tr>
                    </tfoot>
                </table>
                
                <div class="button-group">
                    <button type="button" onclick="calculateResults('odd')">Calculate SGPA</button>
                    <button type="button" onclick="addCourse('odd', 'theory')">Add Theory</button>
                    <button type="button" onclick="addCourse('odd', 'lab')">Add Lab</button>
                    <button type="button" onclick="addCourse('odd', 'project')">Add Project</button>
                    <button type="button" onclick="resetSemester('odd')">Reset Semester</button>
                    <button type="button" class="button-pdf" onclick="generatePDF('odd')">Download PDF</button>
                </div>
            </form>
        </div>

        <!-- Even Semester Tab -->
        <div id="even" class="tab-content">
            <h2>Even Semester Calculation</h2>
            <div class="formula-box">
                SGPA = Œ£(Credit √ó Grade Point) / Total Credits
            </div>
            
            <form id="evenForm">
                <table>
                    <thead>
                        <tr>
                            <th>Subject Name</th>
                            <th>Type</th>
                            <th>Credits</th>
                            <th>Internal (30)</th>
                            <th>External (70)</th>
                            <th>Total (100)</th>
                            <th>Grade</th>
                            <th>Grade Point</th>
                            <th>Credit Points</th>
                        </tr>
                    </thead>
                    <tbody id="evenCourses">
                        <!-- Subjects will be added dynamically -->
                    </tbody>
                    <tfoot>
                        <tr class="total-row">
                            <th colspan="2">Total</th>
                            <th id="even_total_credits">0</th>
                            <th id="even_total_internal">0</th>
                            <th id="even_total_external">0</th>
                            <th id="even_total_marks">0</th>
                            <th>-</th>
                            <th>-</th>
                            <th id="even_total_cp">0</th>
                        </tr>
                        <tr>
                            <th colspan="8">SGPA</th>
                            <th id="even_sgpa">0.00</th>
                        </tr>
                    </tfoot>
                </table>
                
                <div class="button-group">
                    <button type="button" onclick="calculateResults('even')">Calculate SGPA</button>
                    <button type="button" onclick="addCourse('even', 'theory')">Add Theory</button>
                    <button type="button" onclick="addCourse('even', 'lab')">Add Lab</button>
                    <button type="button" onclick="addCourse('even', 'project')">Add Project</button>
                    <button type="button" onclick="resetSemester('even')">Reset Semester</button>
                    <button type="button" class="button-pdf" onclick="generatePDF('even')">Download PDF</button>
                </div>
            </form>
        </div>

        <!-- YGPA Tab -->
        <div id="ygpa" class="tab-content">
            <h2>Yearly GPA (YGPA) Calculation</h2>
            <div class="formula-box">
                YGPA = (SGPA(odd) √ó Credits(odd) + SGPA(even) √ó Credits(even)) / (Credits(odd) + Credits(even))
            </div>
            
            <div class="results">
                <h3>YGPA Result</h3>
                <div class="result-item">
                    <span>Odd Semester SGPA:</span>
                    <span class="highlight" id="ygpa_odd_sgpa">0.00</span>
                </div>
                <div class="result-item">
                    <span>Odd Semester Credits:</span>
                    <span class="highlight" id="ygpa_odd_credits">0</span>
                </div>
                <div class="result-item">
                    <span>Even Semester SGPA:</span>
                    <span class="highlight" id="ygpa_even_sgpa">0.00</span>
                </div>
                <div class="result-item">
                    <span>Even Semester Credits:</span>
                    <span class="highlight" id="ygpa_even_credits">0</span>
                </div>
                <div class="result-item" style="border-top: 1px solid #800000; padding-top: 10px;">
                    <span>YGPA:</span>
                    <span class="highlight" id="ygpa_value">0.00</span>
                </div>
            </div>
            
            <div class="button-group">
                <button type="button" onclick="calculateYGPA()">Calculate YGPA</button>
                <button type="button" class="button-pdf" onclick="generateYGPAReport()">Download YGPA Report</button>
            </div>
        </div>

        <!-- Disclaimer -->
        <div class="disclaimer">
            üö® Fill Student information or EDIT SUBJECT NAMES above if you want to add in PDF. Your Data is only belongs to you..üö®
        </div>
    </div>

    <script>
        // Initialize jsPDF
        const { jsPDF } = window.jspdf;
        
        // Tab functionality
        function openTab(tabName) {
            const tabs = document.getElementsByClassName('tab');
            for (let tab of tabs) {
                tab.classList.remove('active');
            }
            document.querySelector(`.tab[onclick="openTab('${tabName}')"]`).classList.add('active');
            
            const tabContents = document.getElementsByClassName('tab-content');
            for (let content of tabContents) {
                content.classList.remove('active');
            }
            document.getElementById(tabName).classList.add('active');
        }
        
        // AKTU Grade Calculation
        function calculateGrade(marks) {
            if (marks >= 90) return { grade: 'A+', point: 10 };
            if (marks >= 80) return { grade: 'A', point: 9 };
            if (marks >= 70) return { grade: 'B+', point: 8 };
            if (marks >= 60) return { grade: 'B', point: 7 };
            if (marks >= 50) return { grade: 'C', point: 6 };
            if (marks >= 45) return { grade: 'D', point: 5 };
            if (marks >= 40) return { grade: 'E', point: 4 };
            return { grade: 'F', point: 0 };
        }
        
        // Add a new course row
        function addCourse(semester, type) {
            const tableBody = document.getElementById(`${semester}Courses`);
            const rowCount = tableBody.rows.length + 1;
            const newRow = tableBody.insertRow();
            
            // Set default values based on type
            let defaultCredit, defaultName, rowClass;
            if (type === 'theory') {
                defaultCredit = 4;
                defaultName = `Theory ${rowCount}`;
                rowClass = 'theory';
            } else if (type === 'lab') {
                defaultCredit = 1;
                defaultName = `Lab ${rowCount}`;
                rowClass = 'lab';
            } else if (type === 'project') {
                defaultCredit = 2;
                defaultName = 'Project';
                rowClass = 'project';
            }
            
            newRow.className = rowClass;
            newRow.innerHTML = `
                <td><input type="text" class="subject-name" name="${semester}_name${rowCount}" value="${defaultName}"></td>
                <td>
                    <select class="type-selector" name="${semester}_type${rowCount}" onchange="changeCourseType(this)">
                        <option value="theory" ${type === 'theory' ? 'selected' : ''}>Theory</option>
                        <option value="lab" ${type === 'lab' ? 'selected' : ''}>Lab</option>
                        <option value="project" ${type === 'project' ? 'selected' : ''}>Project</option>
                    </select>
                </td>
                <td><input type="number" name="${semester}_credit${rowCount}" value="${defaultCredit}" min="1" max="10" step="0.5"></td>
                <td><input type="number" class="marks-input" name="${semester}_internal${rowCount}" min="0" max="30"></td>
                <td><input type="number" class="marks-input" name="${semester}_external${rowCount}" min="0" max="70"></td>
                <td id="${semester}_total${rowCount}">0</td>
                <td id="${semester}_grade${rowCount}">-</td>
                <td id="${semester}_gp${rowCount}">-</td>
                <td id="${semester}_cp${rowCount}">-</td>
            `;
            
            // Add event listeners to new inputs
            const creditInput = newRow.querySelector(`input[name="${semester}_credit${rowCount}"]`);
            const internalInput = newRow.querySelector(`input[name="${semester}_internal${rowCount}"]`);
            const externalInput = newRow.querySelector(`input[name="${semester}_external${rowCount}"]`);
            
            creditInput.addEventListener('input', () => calculateResults(semester));
            internalInput.addEventListener('input', () => {
                updateTotalMarks(semester, rowCount);
                calculateResults(semester);
            });
            externalInput.addEventListener('input', () => {
                updateTotalMarks(semester, rowCount);
                calculateResults(semester);
            });
            
            calculateResults(semester);
        }
        
        // Update total marks for a subject
        function updateTotalMarks(semester, rowNum) {
            const internal = parseInt(document.querySelector(`input[name="${semester}_internal${rowNum}"]`).value) || 0;
            const external = parseInt(document.querySelector(`input[name="${semester}_external${rowNum}"]`).value) || 0;
            const total = internal + external;
            document.getElementById(`${semester}_total${rowNum}`).textContent = total;
            return total;
        }
        
        // Change course type
        function changeCourseType(selectElement) {
            const row = selectElement.closest('tr');
            const type = selectElement.value;
            
            // Update row class
            row.className = type;
            
            // Update default credit based on type
            const creditInput = row.querySelector('input[type="number"][name^="credit"]');
            if (type === 'theory') {
                creditInput.value = 4;
            } else if (type === 'lab') {
                creditInput.value = 1;
            } else if (type === 'project') {
                creditInput.value = 2;
            }
            
            // Recalculate results
            const semester = selectElement.name.split('_')[0];
            calculateResults(semester);
        }
        
        // Calculate SGPA for a semester
        function calculateResults(semester) {
            let totalCredits = 0;
            let totalCP = 0;
            let totalInternal = 0;
            let totalExternal = 0;
            let totalMarks = 0;
            let courseCount = 0;
            
            // Count how many courses exist
            while (document.querySelector(`input[name="${semester}_credit${courseCount+1}"]`)) {
                courseCount++;
            }
            
            for (let i = 1; i <= courseCount; i++) {
                const credit = parseFloat(document.querySelector(`input[name="${semester}_credit${i}"]`).value) || 0;
                const internal = parseInt(document.querySelector(`input[name="${semester}_internal${i}"]`).value) || 0;
                const external = parseInt(document.querySelector(`input[name="${semester}_external${i}"]`).value) || 0;
                const total = updateTotalMarks(semester, i);
                
                const gradeInfo = calculateGrade(total);
                
                document.getElementById(`${semester}_grade${i}`).textContent = gradeInfo.grade;
                document.getElementById(`${semester}_gp${i}`).textContent = gradeInfo.point;
                
                const cp = credit * gradeInfo.point;
                document.getElementById(`${semester}_cp${i}`).textContent = cp.toFixed(1);
                
                totalCredits += credit;
                totalCP += cp;
                totalInternal += internal;
                totalExternal += external;
                totalMarks += total;
            }
            
            document.getElementById(`${semester}_total_credits`).textContent = totalCredits.toFixed(1);
            document.getElementById(`${semester}_total_cp`).textContent = totalCP.toFixed(1);
            document.getElementById(`${semester}_total_internal`).textContent = totalInternal;
            document.getElementById(`${semester}_total_external`).textContent = totalExternal;
            document.getElementById(`${semester}_total_marks`).textContent = totalMarks;
            
            const sgpa = totalCredits > 0 ? (totalCP / totalCredits).toFixed(2) : 0;
            document.getElementById(`${semester}_sgpa`).textContent = sgpa;
            
            // Update YGPA tab with current values
            if (semester === 'odd') {
                document.getElementById('ygpa_odd_sgpa').textContent = sgpa;
                document.getElementById('ygpa_odd_credits').textContent = totalCredits.toFixed(1);
            } else {
                document.getElementById('ygpa_even_sgpa').textContent = sgpa;
                document.getElementById('ygpa_even_credits').textContent = totalCredits.toFixed(1);
            }
        }
        
        // Reset semester data
        function resetSemester(semester) {
            if (confirm(`Are you sure you want to reset ${semester} semester?`)) {
                document.getElementById(`${semester}Courses`).innerHTML = '';
                calculateResults(semester);
            }
        }
        
        // Calculate YGPA
        function calculateYGPA() {
            const oddSGPA = parseFloat(document.getElementById('ygpa_odd_sgpa').textContent) || 0;
            const oddCredits = parseFloat(document.getElementById('ygpa_odd_credits').textContent) || 0;
            const evenSGPA = parseFloat(document.getElementById('ygpa_even_sgpa').textContent) || 0;
            const evenCredits = parseFloat(document.getElementById('ygpa_even_credits').textContent) || 0;
            
            const totalCredits = oddCredits + evenCredits;
            const ygpa = totalCredits > 0 
                ? ((oddSGPA * oddCredits + evenSGPA * evenCredits) / totalCredits).toFixed(2)
                : 0;
            
            document.getElementById('ygpa_value').textContent = ygpa;
        }
        
        // Generate PDF for semester results
        function generatePDF(semester) {
            const doc = new jsPDF();
            const semesterName = semester === 'odd' ? 'Odd Semester' : 'Even Semester';
            
            // Add university header
            doc.setFontSize(16);
            doc.setTextColor(128, 0, 0); // Maroon color
            doc.text('Dr. A.P.J. Abdul Kalam Technical University, Lucknow', 105, 15, { align: 'center' });
            doc.setFontSize(14);
            doc.text(`${semesterName} Results`, 105, 25, { align: 'center' });
            
            // Add student information if available
            const studentName = document.getElementById('studentName').value;
            const rollNumber = document.getElementById('rollNumber').value;
            const branch = document.getElementById('branch').value;
            const sem = document.getElementById('semester').value;
            
            if (studentName || rollNumber || branch || sem) {
                doc.setFontSize(12);
                doc.setTextColor(0);
                doc.text(`Student: ${studentName || 'Not provided'}`, 14, 35);
                doc.text(`Roll No: ${rollNumber || 'Not provided'}`, 14, 42);
                doc.text(`Branch: ${branch || 'Not provided'}`, 105, 35);
                doc.text(`Semester: ${sem || 'Not provided'}`, 105, 42);
            }
            
            // Prepare data for the table
            const tableBody = document.getElementById(`${semester}Courses`);
            const rows = tableBody.rows;
            const tableData = [];
            
            // Add headers
            tableData.push([
                'Subject',
                'Type',
                'Credits',
                'Internal',
                'External',
                'Total',
                'Grade',
                'Grade Point',
                'Credit Points'
            ]);
            
            // Add course data
            for (let i = 0; i < rows.length; i++) {
                const cells = rows[i].cells;
                tableData.push([
                    cells[0].querySelector('input').value,
                    cells[1].querySelector('select').value,
                    cells[2].querySelector('input').value,
                    cells[3].querySelector('input').value || '0',
                    cells[4].querySelector('input').value || '0',
                    cells[5].textContent,
                    cells[6].textContent,
                    cells[7].textContent,
                    cells[8].textContent
                ]);
            }
            
            // Add totals row
            tableData.push([
                'TOTAL',
                '',
                document.getElementById(`${semester}_total_credits`).textContent,
                document.getElementById(`${semester}_total_internal`).textContent,
                document.getElementById(`${semester}_total_external`).textContent,
                document.getElementById(`${semester}_total_marks`).textContent,
                '',
                '',
                document.getElementById(`${semester}_total_cp`).textContent
            ]);
            
            // Add SGPA row
            tableData.push([
                { content: 'SGPA', colSpan: 8, styles: { fontStyle: 'bold' } },
                { content: document.getElementById(`${semester}_sgpa`).textContent, styles: { fontStyle: 'bold' } }
            ]);
            
            // Generate the table
            doc.autoTable({
                head: [tableData[0]],
                body: tableData.slice(1),
                startY: studentName || rollNumber || branch || sem ? 50 : 30,
                theme: 'grid',
                headStyles: {
                    fillColor: [128, 0, 0], // Maroon
                    textColor: 255, // White
                    fontStyle: 'bold'
                },
                alternateRowStyles: {
                    fillColor: [240, 240, 240]
                },
                margin: { top: studentName || rollNumber || branch || sem ? 50 : 30 }
            });
            
            // Add disclaimer
            doc.setFontSize(10);
            doc.setTextColor(255, 0, 0); // Red color for disclaimer
            doc.text('üö® The results generated are for reference only. It is not for Official Purpose. üö®', 
                    105, doc.internal.pageSize.height - 15, { align: 'center' });
            
            // Add footer
            doc.setFontSize(10);
            doc.setTextColor(100);
            doc.text('Generated by AKTU SGPA/YGPA Calculator', 105, doc.internal.pageSize.height - 10, { align: 'center' });
            
            // Save the PDF
            doc.save(`AKTU_${semesterName}_Results_${studentName || ''}.pdf`);
        }
        
        // Generate YGPA report
        function generateYGPAReport() {
            const doc = new jsPDF();
            
            // Add university header
            doc.setFontSize(16);
            doc.setTextColor(128, 0, 0); // Maroon color
            doc.text('Dr. A.P.J. Abdul Kalam Technical University, Lucknow', 105, 15, { align: 'center' });
            doc.setFontSize(14);
            doc.text('Yearly GPA (YGPA) Report', 105, 25, { align: 'center' });
            
            // Add student information if available
            const studentName = document.getElementById('studentName').value;
            const rollNumber = document.getElementById('rollNumber').value;
            const branch = document.getElementById('branch').value;
            const sem = document.getElementById('semester').value;
            
            if (studentName || rollNumber || branch || sem) {
                doc.setFontSize(12);
                doc.setTextColor(0);
                doc.text(`Student: ${studentName || 'Not provided'}`, 14, 35);
                doc.text(`Roll No: ${rollNumber || 'Not provided'}`, 14, 42);
                doc.text(`Branch: ${branch || 'Not provided'}`, 105, 35);
                doc.text(`Semester: ${sem || 'Not provided'}`, 105, 42);
            }
            
            // Add semester results
            doc.setFontSize(12);
            doc.setTextColor(0);
            
            let y = studentName || rollNumber || branch || sem ? 55 : 40;
            
            // Odd Semester Results
            doc.text('Odd Semester Results:', 14, y);
            y += 10;
            doc.text(`SGPA: ${document.getElementById('ygpa_odd_sgpa').textContent}`, 20, y);
            y += 7;
            doc.text(`Credits: ${document.getElementById('ygpa_odd_credits').textContent}`, 20, y);
            y += 10;
            
            // Even Semester Results
            doc.text('Even Semester Results:', 14, y);
            y += 10;
            doc.text(`SGPA: ${document.getElementById('ygpa_even_sgpa').textContent}`, 20, y);
            y += 7;
            doc.text(`Credits: ${document.getElementById('ygpa_even_credits').textContent}`, 20, y);
            y += 10;
            
            // YGPA Calculation
            doc.setFontSize(14);
            doc.setTextColor(128, 0, 0);
            doc.text('Yearly GPA (YGPA):', 14, y);
            y += 10;
            doc.setFontSize(16);
            doc.text(document.getElementById('ygpa_value').textContent, 20, y);
            
            // Add disclaimer
            doc.setFontSize(10);
            doc.setTextColor(255, 0, 0); // Red color for disclaimer
            doc.text('üö® The results generated are for reference only. It is not for Official Purpose. üö®', 
                    105, doc.internal.pageSize.height - 15, { align: 'center' });
            
            // Add footer
            doc.setFontSize(10);
            doc.setTextColor(100);
            doc.text('Generated by AKTU SGPA/YGPA Calculator', 105, doc.internal.pageSize.height - 10, { align: 'center' });
            
            // Save the PDF
            doc.save(`AKTU_YGPA_Report_${studentName || ''}.pdf`);
        }
        
        // Initialize the calculator with default courses
        document.addEventListener('DOMContentLoaded', function() {
            // Add default odd semester courses (6 subjects + 4 labs + 1 project)
            for (let i = 1; i <= 6; i++) {
                addCourse('odd', 'theory');
            }
            for (let i = 1; i <= 4; i++) {
                addCourse('odd', 'lab');
            }
            addCourse('odd', 'project');
            
            // Add default even semester courses (6 subjects + 4 labs + 1 project)
            for (let i = 1; i <= 6; i++) {
                addCourse('even', 'theory');
            }
            for (let i = 1; i <= 4; i++) {
                addCourse('even', 'lab');
            }
            addCourse('even', 'project');
            
            // Calculate initial results
            calculateResults('odd');
            calculateResults('even');
        });
    </script>
</body>
</html>
